subroutine X1404(Failure,Msg,Iterations,StartWall,EndWall,StartCpu,EndCpu)

* Copyright IBM, 17075

StartWall = 0; * In case we do not finish
StartCpu = 0;  * In case we do not finish
EndWall = 0;   * In case we do not finish
EndCpu = 0;    * In case we do not finish
equ TEST_ID to 1404

FileName = "File":TEST_ID
IndexCount = 1
call CreateFile(Failure,Msg,"",FileName,0,1,4,"")
print "Create.file"
if Failure # 0 then goto ErrorExit
For IndexNdx = 1 to IndexCount
	IndexName = "F":IndexNdx
	Cmnd = "CREATE.INDEX ":FileName:" ":IndexName
	call ExecuteCommand(Failure,Msg,Cmnd,Output)
	print "create.index"
	* Failure is number of indices created.
	if Failure # 1 then goto ErrorExit
	Cmnd = "BUILD.INDEX ":FileName:" ":IndexName
	call ExecuteCommand(Failure,Msg,Cmnd,Output)
	print "build.index"
	if Failure then goto ErrorExit
next IndexNdx
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end

StartWall = system(12)
StartCpu  = system( 9)
for IterationsNdx = 1 to Iterations
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end

next IterationsNdx
EndCpu  = system( 9)
EndWall = system(12)

close fFileName
call DeleteFile(Failure,Msg,"",FileName)

return
ErrorExit:
**********
Print Msg
Iterations = 0; * Cause loop control to terminate
return

end
