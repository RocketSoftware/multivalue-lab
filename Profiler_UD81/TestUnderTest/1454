subroutine X1454(Failure,Msg,Iterations,StartWall,EndWall,StartCpu,EndCpu)

* Copyright IBM, 17076

StartWall = 0; * In case we do not finish
StartCpu = 0;  * In case we do not finish
EndWall = 0;   * In case we do not finish
EndCpu = 0;    * In case we do not finish
equ TEST_ID to 1454

FileName = "File":TEST_ID
LastFileNumber = 1000
call CreateFile(Failure,Msg,"",FileName,"DIR",1,1,"")
if Failure # 0 then goto ErrorExit
BaseName = "ABCDEFGHI"
open FileName to fFileName else
	Failure = 1
	Msg = "Cannot OPEN ":FileName
	goto ErrorExit
end
Record = "X"
for Ndx = 1 to LastFileNumber
	Number = Ndx "R%%%%"
	Id = BaseName : Number
	write Record on fFileName,Id on error
		Failure = 1
		Msg = "Cannot WRITE ":FileName:",":Id
		goto ErrorExit
	end
next Ndx
close fFileName on error
	Failure = 1
	Msg = "Cannot CLOSE ":FileName
	goto ErrorExit
end
openseq FileName,Id to fSeq else
	Failure = 1
	Msg = "Cannot OPENSEQ ":FileName:",":Id
	goto ErrorExit
end

StartWall = system(12)
StartCpu  = system( 9)
for IterationsNdx = 1 to Iterations
openseq FileName,Id to fSeq else
	Failure = 1
	Msg = "Cannot OPENSEQ ":FileName:",":Id
	goto ErrorExit
end
openseq FileName,Id to fSeq else
	Failure = 1
	Msg = "Cannot OPENSEQ ":FileName:",":Id
	goto ErrorExit
end
openseq FileName,Id to fSeq else
	Failure = 1
	Msg = "Cannot OPENSEQ ":FileName:",":Id
	goto ErrorExit
end
openseq FileName,Id to fSeq else
	Failure = 1
	Msg = "Cannot OPENSEQ ":FileName:",":Id
	goto ErrorExit
end
openseq FileName,Id to fSeq else
	Failure = 1
	Msg = "Cannot OPENSEQ ":FileName:",":Id
	goto ErrorExit
end
openseq FileName,Id to fSeq else
	Failure = 1
	Msg = "Cannot OPENSEQ ":FileName:",":Id
	goto ErrorExit
end
openseq FileName,Id to fSeq else
	Failure = 1
	Msg = "Cannot OPENSEQ ":FileName:",":Id
	goto ErrorExit
end
openseq FileName,Id to fSeq else
	Failure = 1
	Msg = "Cannot OPENSEQ ":FileName:",":Id
	goto ErrorExit
end
openseq FileName,Id to fSeq else
	Failure = 1
	Msg = "Cannot OPENSEQ ":FileName:",":Id
	goto ErrorExit
end
openseq FileName,Id to fSeq else
	Failure = 1
	Msg = "Cannot OPENSEQ ":FileName:",":Id
	goto ErrorExit
end

next IterationsNdx
EndCpu  = system( 9)
EndWall = system(12)

closeseq fSeq on error
	Failure = 1
	Msg = "Cannot CLOSESEQ ":FileName:",":Id
	goto ErrorExit
end
call DeleteFile(Failure,Msg,"",FileName)

return
ErrorExit:
**********
Print Msg
Iterations = 0; * Cause loop control to terminate
return

end
